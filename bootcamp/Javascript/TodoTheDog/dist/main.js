(()=>{"use strict";const t=class{constructor(t){this.element=t,this.parentDiv}renderElement(){const t=document.createElement("div");return t.id=this.element.title,this.element.hasOwnProperty("className")&&"Task"===this.element.className&&(this.parentDiv=document.getElementById("tasks"),t.innerHTML=`<div class="project-name">${this.element.title}</div><span class="task-remove-btn">X</span>`,t.classList.add("task-title")),this.element.hasOwnProperty("className")&&"Project"===this.element.className&&(this.parentDiv=document.getElementById("projects"),t.innerHTML=`<div class="project-name">${this.element.title}</div><span class="project-remove-btn">X</span>`,t.classList.add("project-title"),this.element.active&&t.classList.add("active-project")),this.parentDiv.appendChild(t),t}},e=new class{constructor(){this.currentProjectIndex=0,this.projects=[],this.addProject("Path of Exile"),this.addProject("World of Warcraft"),this.setActiveProject(0),this.addDefaultTasks(),this.renderApplication()}renderApplication(){this.renderProjects(),this.renderTasks()}renderProjects(){this.clearProjects(),this.projects.forEach((e=>{new t(e).renderElement()}))}renderTasks(){this.projects[this.currentProjectIndex].tasks.forEach((e=>{new t(e).renderElement()}))}addProject(t){const e=new class{constructor(t){this.className="Project",this.title=t,this.tasks=[],this.active=!1}addTask(t,e,s,r,a){const c=new class{constructor(t,e,s,r,a){this.className="Task",this.title=t,this.description=e,this.status=s,this.startDate=r,this.endDate=a}updateFields(t,e,s,r,a){this.title=t,this.description=e,this.status=s,this.startDate=r,this.endDate=a}completeTask(){this.status=!0}}(t,e,s,r,a);this.tasks.push(c)}removeTask(t){this.tasks.splice(t,1)}getProjectLength(){return this.tasks.length}clearTasks(){this.tasks=[]}}(t);this.projects.push(e),this.renderProjects()}removeProject(t){this.projects.splice(t,1),console.log(this.projects),this.currentProjectIndex=0,this.setActiveProject(0)}setActiveProject(t){this.clearTasks(),this.projects[this.currentProjectIndex].active=!1,this.currentProjectIndex=t,this.projects[this.currentProjectIndex].active=!0,this.renderProjects(),this.renderTasks()}clearTasks(){document.getElementById("tasks").innerHTML=""}clearProjects(){document.getElementById("projects").innerHTML=""}addDefaultTasks(){this.projects[0].addTask("Get exalted orbs.","Farm heist for more orbs",!1,"10/23/2020","10/24/2020"),this.projects[0].addTask("Level golemancer","Get to level 70",!1,"10/23/2020","10/24/2020"),this.projects[1].addTask("Get 2.5 helm on warlock.","No idols needed, just go to AQ40.",!1,"10/24/2020","10/25/2020"),this.projects[1].addTask("ZG GDKP","Buy idol at all costs",!1,"10/24/2020","10/25/2020"),this.projects[1].addTask("Level hunter","For fun yo",!1,"10/24/2020","10/25/2020")}};window.addEventListener("load",(function(t){document.getElementById("projects").addEventListener("click",(function(t){var s=Array.prototype.indexOf.call(this.children,t.target.parentNode);console.log(t.target),t.target.classList.contains("project-name")&&e.setActiveProject(s),t.target.classList.contains("project-remove-btn")&&e.removeProject(s)})),document.getElementsByClassName("projects-header")[0].addEventListener("click",(function(t){if(t.target.id="add-project-btn"){const t=document.getElementById("myModal"),s=document.getElementsByClassName("modal-close")[0],r=document.getElementById("project-submit-btn"),a=document.getElementById("project-name-input");t.style.display="block",window.onclick=function(c){c.target!=t&&c.target!=s||(t.style.display="none",a.value=""),c.target==r&&(t.style.display="none",e.addProject(a.value),a.value="")}}}))}))})();