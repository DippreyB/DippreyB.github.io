(()=>{"use strict";const e=class{constructor(e){this.element=e,this.parentDiv}renderElement(){const e=document.createElement("div");return e.id=this.element.title,this.element.hasOwnProperty("className")&&"Task"===this.element.className&&(this.parentDiv=document.getElementById("tasks"),e.innerHTML=`<div class="task-content">\n                <div class="task-content-column">\n                    <div class="task-name">${this.element.title}</div>\n                    <div class="task-description">${this.element.description}</div>\n                </div>\n                <div class="task-content-column">\n                    <div class="task-completed-by">Complete by:</div>\n                    <div class="task-end-date">${this.element.endDate}</div>\n                </div>\n            </div>\n            <div class="task-btns">\n                <i class="material-icons task-remove-btn">check</i>\n                <i class="material-icons task-remove-btn">edit</i>\n                <i class="material-icons task-remove-btn">delete</i>\n            </div>\n            <div class="task-completion-bar">\n            </div>\n            `,e.classList.add("task")),this.element.hasOwnProperty("className")&&"Project"===this.element.className&&(this.parentDiv=document.getElementById("projects"),e.innerHTML=`<div class="project-name">${this.element.title}</div><i class="material-icons project-remove-btn">delete</i>`,e.classList.add("project"),this.element.active&&e.classList.add("active-project")),this.element.loaded||(this.parentDiv.appendChild(e),console.log("Created element "+e.id)),e}removeElement(){console.log("removed element: "+this.element.title),document.getElementById(this.element.title).remove()}},t=new class{constructor(){this.currentProjectIndex=0,this.projects=[],this.addProject("Path of Exile"),this.addProject("World of Warcraft"),this.addDefaultTasks(),this.renderApplication(),this.setActiveProject(0)}renderApplication(){this.renderProjects()}renderProjects(){this.projects.forEach((t=>{new e(t).renderElement(),t.loaded=!0}))}renderTasks(){this.projects[this.currentProjectIndex].tasks.forEach((t=>{new e(t).renderElement()}))}addProject(e){const t=new class{constructor(e){this.className="Project",this.title=e,this.tasks=[],this.active=!1,this.loaded=!1}addTask(e,t,s,n,i){const c=new class{constructor(e,t,s,n,i){this.className="Task",this.title=e,this.description=t,this.status=s,this.startDate=n,this.endDate=i}updateFields(e,t,s,n,i){this.title=e,this.description=t,this.status=s,this.startDate=n,this.endDate=i}completeTask(){this.status=!0}}(e,t,s,n,i);this.tasks.push(c)}removeTask(e){this.tasks.splice(e,1)}getProjectLength(){return this.tasks.length}clearTasks(){this.tasks=[]}}(e);this.projects.push(t),this.renderProjects(),1==this.projects.length&&this.setActiveProject(0)}removeProject(t){new e(this.projects[t]).removeElement(),this.projects.splice(t,1),this.currentProjectIndex=0,this.projects.length<1?this.clearTasks():this.setActiveProject(0)}setActiveProject(e){this.clearTasks(),this.projects[this.currentProjectIndex].active=!1,document.getElementsByClassName("project")[this.currentProjectIndex].classList.remove("active-project"),this.currentProjectIndex=e,this.projects[this.currentProjectIndex].active=!0,document.getElementsByClassName("project")[this.currentProjectIndex].classList.toggle("active-project"),this.renderTasks(),document.getElementById("tasks-header").innerHTML=this.projects[this.currentProjectIndex].title}clearTasks(){document.getElementById("tasks").innerHTML=""}clearProjects(){document.getElementById("projects").innerHTML=""}addDefaultTasks(){this.projects[0].addTask("Get exalted orbs.","Farm heist for more orbs",!1,"10/23/2020","10/24/2020"),this.projects[0].addTask("Level golemancer","Get to level 70",!1,"10/23/2020","10/24/2020"),this.projects[1].addTask("Get 2.5 helm on warlock.","No idols needed, just go to AQ40.",!1,"10/24/2020","10/25/2020"),this.projects[1].addTask("ZG GDKP","Buy idol at all costs",!1,"10/24/2020","10/25/2020"),this.projects[1].addTask("Level hunter","For fun yo",!1,"10/24/2020","10/25/2020")}};window.addEventListener("load",(function(e){document.getElementById("projects").addEventListener("click",(function(e){var s=Array.prototype.indexOf.call(this.children,e.target.parentNode);e.target.classList.contains("project-name")&&t.setActiveProject(s),e.target.classList.contains("project-remove-btn")&&t.removeProject(s)})),document.getElementsByClassName("projects-header")[0].addEventListener("click",(function(e){if("add-project-btn"==e.target.id){const e=document.getElementById("myModal"),s=document.getElementsByClassName("modal-close")[0],n=document.getElementById("project-submit-btn"),i=document.getElementById("project-name-input");e.style.display="block",window.onclick=function(c){c.target!=e&&c.target!=s||(e.style.display="none",i.value=""),c.target==n&&(e.style.display="none",t.addProject(i.value),i.value="")}}("projects-header-title"==e.target.id||e.target.classList.contains("material-icons"))&&(console.log("hiding projects"),document.getElementById("projects").classList.toggle("projects-hidden"))})),document.getElementById("tasks").addEventListener("click",(function(e){console.log(e.target)}))}))})();